<div class="show_padrao">
  <div class="formularios_embutidos">
    <% form_tag("/viagens/cancelamento_da_viagem") do -%>
      <fieldset>
        <legend>Cancelar viagem</legend>
        <%= label_tag "viagem_motivo_id", "Motivo do cancelamento:" %>
        <%= collection_select("viagem", :motivo_id, Motivo.all, :id, :descricao) %><br />
        <%= hidden_field_tag "viagem_id", "#{@viagem.id}" %>
        <%= submit_tag "Cancelar viagem", { :confirm => "Deseja cancelar a viagem?"} %>
      </fieldset>
    <% end -%>
  </div>



<!-- ======================================================================= -->


  <h1>Dados gerais</h1>

  <p>
    <label>Data de saída:</label>
    <span>
      <%=h @viagem.data_partida.strftime("%d/%m/%Y") if @viagem.data_partida %>
    </span>
  </p>


  <p>
    <label>Data de chegada:</label>
    <span>
      <%=h @viagem.data_chegada.strftime("%d/%m/%Y") if @viagem.data_chegada %>
    </span>
  </p>


  <p>
    <label>Horário de partida:</label>
    <span>
      <%=h @viagem.horario_partida.strftime("%H:%M") if @viagem.horario_partida %>
    </span>
  </p>


  <p>
    <label>Motoristas:</label>
    <span>
      <%=h @viagem.motoristas.collect(&:nome).to_sentence if @viagem.motoristas %>
    </span>
  </p>

  <p>
    <label>Veículo:</label>
    <span>
      <%=h CategoriaDeVeiculo.find(@veiculo.categoria_de_veiculo_id).nome +
        " - " + @veiculo.modelo + " - " + @veiculo.placa if not @veiculo.nil?%>
    </span>
  </p>

  <p>
    <label>Estado:</label>
    <span><%=h @viagem.estado %></span>
  </p>

  <%= render :partial => 'requisicoes_atendidas' %>

</div>
<!-- ======================================================================= -->

